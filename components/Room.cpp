#include "./headers/Room.h"
#include <stdio.h>
GLuint wallTexture;
GLuint ceilingTexture;
GLuint floorTexture;
GLuint picTexture;
GLuint tableTexture;
GLuint pic2Texture;
GLuint wall2Texture;
extern GLuint welcomeTexture;
static void setHexColor(int);
void makeTable();

void drawRoom()
{
    glEnable(GL_TEXTURE_2D);
    glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);
    glBindTexture(GL_TEXTURE_2D, wall2Texture);
    glColor3f(1,1,1);
    glBegin(GL_QUADS);
        glTexCoord2f(0, 0); glVertex3f(-900, -800, 0);
        glNormal3f(-900, -800, 0);
        glTexCoord2f(0, 1); glVertex3f(-900, 800, 0);
        glNormal3f(-900, 800, 0);
        glTexCoord2f(1, 1); glVertex3f(-500, 500, -500);
        glNormal3f(-500, 500, -500);
        glTexCoord2f(1, 0); glVertex3f(-500, -500, -500);
        glNormal3f(-500, -500, -500);
    glEnd();
    glBegin(GL_QUADS);
        glTexCoord2f(1, 1); glVertex3f(900, 800, 0);
        glNormal3f(900, 800, 0);
        glTexCoord2f(1, 0); glVertex3f(900, -800, 0);
        glNormal3f(900, -800, 0);
        glTexCoord2f(0, 0); glVertex3f(500, -500, -500);
        glNormal3f(500, -500, -500);
        glTexCoord2f(0, 1); glVertex3f(500, 500, -500);
        glNormal3f(500, 500, -500);
    glEnd();
    glDisable(GL_TEXTURE_2D);
    glEnable(GL_TEXTURE_2D);
    glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);
    glBindTexture(GL_TEXTURE_2D, wall2Texture);
    glColor3f(1,1,1);
    glBegin(GL_QUADS);
        glTexCoord2f(0, 0); glVertex3f(-500, -500, -500);
        glNormal3f(-500, -500, -500);
        glTexCoord2f(0, 1); glVertex3f(-500, 500, -500);
        glNormal3f(-500, 500, -500);
        glTexCoord2f(1, 1); glVertex3f(500, 500, -500);
        glNormal3f(500, 500, -500);
        glTexCoord2f(1, 0); glVertex3f(500, -500, -500);
        glNormal3f(500, -500, -500);
    glEnd();
    glDisable(GL_TEXTURE_2D);
    glEnable(GL_TEXTURE_2D);
    glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);
    glBindTexture(GL_TEXTURE_2D, floorTexture);
    setHexColor(0xE0E0E0);
    glBegin(GL_QUADS);
        glTexCoord2f(0, 0); glVertex3f(-900, -800, 0);
        glNormal3f(-900, -800, 0);
        glTexCoord2f(1, 0); glVertex3f(-500, -500, -500);
        glNormal3f(-500, -500, -500);
        glTexCoord2f(1, 1); glVertex3f(500, -500, -500);
        glNormal3f(500, -500, -500);
        glTexCoord2f(0, 1); glVertex3f(900, -800, 0);
        glNormal3f(900, -800, 0);
    glEnd();
    glDisable(GL_TEXTURE_2D);
    glEnable(GL_TEXTURE_2D);
    glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);
    glBindTexture(GL_TEXTURE_2D, wallTexture);
    glColor3f(0.5,0.5,1);
    glBegin(GL_QUADS);
        glTexCoord2f(0, 0); glVertex3f(-900, 800, 0);
        glNormal3f(-900, 800, 0);
        glTexCoord2f(1, 0); glVertex3f(-500, 500, -500);
        glNormal3f(-500, 500, -500);
        glTexCoord2f(1, 1); glVertex3f(500, 500, -500);
        glNormal3f(500, 500, -500);
        glTexCoord2f(0, 1); glVertex3f(900, 800, 0);
        glNormal3f(900, 800, 0);
    glEnd();
    glDisable(GL_TEXTURE_2D);
    glColor3f(1,1,1);
    glEnable(GL_TEXTURE_2D);
    glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);
    glBindTexture(GL_TEXTURE_2D, picTexture);
    glBegin(GL_QUADS);
        glTexCoord2f(0, 0); glVertex3f(-700, 100, 0);
        glNormal3f(-700, 100, 0);
        glTexCoord2f(0, 1); glVertex3f(-700, 400, 0);
        glNormal3f(-700, 400, 0);
        glTexCoord2f(1, 1); glVertex3f(-600, 350, -300);
        glNormal3f(-600, 350, -300);
        glTexCoord2f(1, 0); glVertex3f(-600, 120, -300);
        glNormal3f(-600, 120, -300);
    glEnd();
    glDisable(GL_TEXTURE_2D);
    glEnable(GL_TEXTURE_2D);
    glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);
    glBindTexture(GL_TEXTURE_2D, pic2Texture);
    glBegin(GL_QUADS);
        glTexCoord2f(0, 0); glVertex3f(700, 100, 0);
        glNormal3f(700, 100, 0);
        glTexCoord2f(0, 1); glVertex3f(700, 400, 0);
        glNormal3f(700, 400, 0);
        glTexCoord2f(1, 1); glVertex3f(600, 350, -300);
        glNormal3f(600, 350, -300);
        glTexCoord2f(1, 0); glVertex3f(600, 120, -300);
        glNormal3f(600, 120, -300);
    glEnd();
    glDisable(GL_TEXTURE_2D);
    makeTable();
}
void makeTable()
{
    glEnable(GL_TEXTURE_2D);
    glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);
    glBindTexture(GL_TEXTURE_2D, tableTexture);
    setHexColor(0x9E9E9E);
    glBegin(GL_QUADS);
        glTexCoord2f(0, 0); glVertex3f(-300, -300, -300);
        glNormal3f(-300, -300, -300);
        glTexCoord2f(1, 0); glVertex3f(-400, -280, -500);
        glNormal3f(-400, -280, -500);
        glTexCoord2f(1, 1); glVertex3f(400, -280, -500);
        glNormal3f(400, -280, -500);
        glTexCoord2f(0, 1); glVertex3f(300, -300, -300);
        glNormal3f(300, -300, -300);
    glEnd();
    glBegin(GL_QUADS);
        glTexCoord2f(0, 0); glVertex3f(-300, -300, -300);
        glNormal3f(-300, -300, -300);
        glTexCoord2f(0, 1); glVertex3f(300, -300, -300);
        glNormal3f(300, -300, -300);
        glTexCoord2f(1, 0); glVertex3f(300, -500, -310);
        glNormal3f(300, -500, -310);
        glTexCoord2f(1, 1); glVertex3f(-300, -500, -310);
        glNormal3f(-300, -500, -310);
    glEnd();
    glBegin(GL_QUADS);
        glTexCoord2f(0, 0); glVertex3f(-300, -300, -300);
        glNormal3f(-300, -300, -300);
        glTexCoord2f(0, 1); glVertex3f(-400, -280, -500);
        glNormal3f(-400, -280, -500);
        glTexCoord2f(1, 0); glVertex3f(-300, -500, -500);
        glNormal3f(-300, -500, -500);
        glTexCoord2f(1, 1); glVertex3f(-300, -500, -310);
        glNormal3f(-300, -500, -310);
    glEnd();
    glBegin(GL_QUADS);
        glTexCoord2f(0, 0); glVertex3f(300, -300, -300);
        glNormal3f(300, -300, -300);
        glTexCoord2f(0, 1); glVertex3f(400, -280, -500);
        glNormal3f(400, -280, -500);
        glTexCoord2f(1, 0); glVertex3f(300, -500, -500);
        glNormal3f(300, -500, -500);
        glTexCoord2f(1, 1); glVertex3f(300, -500, -310);
        glNormal3f(300, -500, -310);
    glEnd();
    glDisable(GL_TEXTURE_2D);
}
static void setHexColor(int x){
    GLfloat b=(x%0xff)/255.0;
    GLfloat g=((x>>8)%0xff)/255.0;
    GLfloat r=((x>>16)%0xff)/255.0;
    glColor3f(r, g, b); 
}